'use client';

import { useState } from 'react';
import styles from './EventPanel.module.scss';
import EventDetailsModal from '../EventDetailsModal/EventDetailsModal';

const EventPanel = ({ events }) => {
  const [showModal, setShowModal] = useState(false);
  return (
    <div className={styles.wrapper}>
      <button className={styles.button} onClick={() => setShowModal(true)}>
        <svg viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M13 0C13.55 0 14 0.45 14 1V2H15C16.654 2 18 3.346 18 5V17C18 18.654 16.654 20 15 20H3C1.346 20 0 18.654 0 17V5C0 3.346 1.346 2 3 2H4V1C4 0.45 4.45 0 5 0C5.55 0 6 0.45 6 1V2H12V1C12 0.45 12.45 0 13 0ZM2 11V17C2 17.551 2.449 18 3 18H15C15.551 18 16 17.551 16 17V11H2ZM5 13C5.55 13 6 13.45 6 14C6 14.55 5.55 15 5 15C4.45 15 4 14.55 4 14C4 13.45 4.45 13 5 13ZM13 13C13.55 13 14 13.45 14 14C14 14.55 13.55 15 13 15H9C8.45 15 8 14.55 8 14C8 13.45 8.45 13 9 13H13ZM3 4C2.449 4 2 4.449 2 5V9H16V5C16 4.449 15.551 4 15 4H14V5C14 5.55 13.55 6 13 6C12.45 6 12 5.55 12 5V4H6V5C6 5.55 5.55 6 5 6C4.45 6 4 5.55 4 5V4H3Z"
            fill="#AF9369"
          />
        </svg>
        {Object.keys(events || {}).length > 0 && (
          <div className={styles.info}>
            <svg viewBox="0 0 6 7" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M0.837643 4.66648L1.23098 4.27247C1.35699 4.14647 1.42632 3.97913 1.42632 3.80113V2.24209C1.42632 1.78975 1.62299 1.35741 1.96633 1.05674C2.31234 0.753397 2.75302 0.620061 3.21202 0.680396C3.98771 0.783398 4.57272 1.48475 4.57272 2.3121V3.80113C4.57272 3.97913 4.64205 4.14647 4.76772 4.27214L5.1614 4.66648H0.837643ZM3.66726 5.44659C3.66726 5.74626 3.36192 5.9996 3.00058 5.9996C2.63924 5.9996 2.3339 5.74626 2.3339 5.44659V5.33292H3.66726V5.44659ZM5.84056 4.40238L5.24022 3.80103V2.312C5.24022 1.15164 4.4062 0.165956 3.30018 0.0196193C2.6595 -0.0657158 2.01282 0.129955 1.52781 0.555297C1.0398 0.982639 0.760461 1.59732 0.760461 2.242L0.760127 3.80103L0.159782 4.40238C0.00344518 4.55905 -0.0428891 4.79205 0.0417793 4.99639C0.126781 5.20106 0.324452 5.33306 0.54579 5.33306H1.66681V5.44673C1.66681 6.11941 2.26482 6.66642 3.00017 6.66642C3.73552 6.66642 4.33353 6.11941 4.33353 5.44673V5.33306H5.45456C5.67589 5.33306 5.87323 5.20106 5.9579 4.99672C6.0429 4.79205 5.9969 4.55871 5.84056 4.40238Z"
                fill="#101010"
              />
            </svg>
          </div>
        )}
      </button>
      {showModal && <EventDetailsModal events={events} setShowModal={setShowModal} />}
    </div>
  );
};

export default EventPanel;
