'use client';

import { usePathname } from 'next/navigation';
import { useSuspenseQuery } from '@tanstack/react-query';
import AgreementInfo from './AgreementInfo/AgreementInfo';
import Greeting from './Greeting/Greeting';
import AboutCourse from './AboutCourse/AboutCourse';
import { fetchCourseDetailsForUser } from '@/helper/platform/fetchCourseDetailsForUser';

import styles from './ConsultingHeader.module.scss';

interface ConsultingHeaderProps {
  token: string;
  id: string;
}

const defaultTitle = 'Ð›ÑŽÐ±Ñ– Ð´Ñ€ÑƒÐ·Ñ–!';
const agreementTitle = 'Ð’Ñ–Ñ‚Ð°Ñ”Ð¼Ð¾ Ð²Ð°Ñ! ðŸŒ¿';
const literalTitle = 'ÐÐ°Ð²Ñ‡Ð°Ð»ÑŒÐ½Ð° Ñ‚Ð° Ñ€Ð¾Ð·Ð²Ð¸Ñ‚ÐºÐ¾Ð²Ð° Ð»Ñ–Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð°';

const defaultText = [
  'Ð’Ñ–Ñ‚Ð°Ñ”Ð¼Ð¾ Ð²Ð°Ñ Ð½Ð° Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÑƒ Ð·Ð°Ñ…Ð¾Ð¿Ð»Ð¸Ð²Ð¾Ð³Ð¾ ÑˆÐ»ÑÑ…Ñƒ Ð´Ð¾ Ð¿Ñ€Ð¾Ñ„ÐµÑÑ–Ð¹Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ! Ð’Ð¸ Ð·Ñ€Ð¾Ð±Ð¸Ð»Ð¸ Ð²Ð°Ð¶Ð»Ð¸Ð²Ð¸Ð¹ ÐºÑ€Ð¾Ðº Ð½Ðµ Ð»Ð¸ÑˆÐµ Ð´Ð»Ñ ÑÐµÐ±Ðµ, Ð° Ð¹ Ð´Ð»Ñ Ñ‚Ð¸Ñ…, ÐºÐ¾Ð¼Ñƒ Ð·Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ñ‚Ð¸ Ð² Ð¼Ð°Ð¹Ð±ÑƒÑ‚Ð½ÑŒÐ¾Ð¼Ñƒ. ÐŸÐ¾Ð¿ÐµÑ€ÐµÐ´Ñƒ â€“ Ð³Ð»Ð¸Ð±Ð¾ÐºÐµ Ð½Ð°Ð²Ñ‡Ð°Ð½Ð½Ñ, ÑÐ°Ð¼Ð¾Ð¿Ñ–Ð·Ð½Ð°Ð½Ð½Ñ Ñ‚Ð° Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ, Ñ‰Ð¾ Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ” Ð½Ð¾Ð²Ñ– Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ÑÑ‚Ñ– Ñ‚Ð° Ñ‚Ð°Ð»Ð°Ð½Ñ‚Ð¸.',
  'ÐÐµÑ…Ð°Ð¹ Ñ†ÐµÐ¹ ÐºÑƒÑ€Ñ ÑÑ‚Ð°Ð½Ðµ Ð´Ð»Ñ Ð²Ð°Ñ Ð´Ð¶ÐµÑ€ÐµÐ»Ð¾Ð¼ Ð½Ð°Ñ‚Ñ…Ð½ÐµÐ½Ð½Ñ, ÑƒÑÐ²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ñ‚Ð° Ð²Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½ÑŒÐ¾Ð³Ð¾ Ð·Ñ€Ð¾ÑÑ‚Ð°Ð½Ð½Ñ. Ð’Ð¸ Ð½Ðµ ÑÐ°Ð¼Ñ– â€“ Ð¿Ð¾Ñ€ÑƒÑ‡ ÑÐ¿Ñ–Ð»ÑŒÐ½Ð¾Ñ‚Ð° Ð¾Ð´Ð½Ð¾Ð´ÑƒÐ¼Ñ†Ñ–Ð² Ñ– Ð½Ð°ÑÑ‚Ð°Ð²Ð½Ð¸ÐºÐ¸, Ð³Ð¾Ñ‚Ð¾Ð²Ñ– Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð²Ð°Ñ Ñƒ Ñ†ÑŒÐ¾Ð¼Ñƒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ–. Ð”Ð¾Ð²Ñ–Ñ€ÑÐ¹Ñ‚Ðµ ÑÐ¾Ð±Ñ–, Ð±ÑƒÐ´ÑŒÑ‚Ðµ Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ– Ð´Ð¾ Ð½Ð¾Ð²Ð¸Ñ… Ð·Ð½Ð°Ð½ÑŒ Ñ– Ð½Ðµ Ð±Ñ–Ð¹Ñ‚ÐµÑÑ Ð·Ð¼Ñ–Ð½, Ð°Ð´Ð¶Ðµ ÑÐ°Ð¼Ðµ Ð²Ð¾Ð½Ð¸ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÑƒÑ‚ÑŒ Ð²Ð°Ñ Ð´Ð¾ Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ñ–ÑÑ‚Ð¸Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ.',
  'Ð‘Ð°Ð¶Ð°Ñ”Ð¼Ð¾ Ð²Ð°Ð¼ Ð»ÐµÐ³ÐºÐ¾ÑÑ‚Ñ– Ð² Ð½Ð°Ð²Ñ‡Ð°Ð½Ð½Ñ–, Ð³Ð»Ð¸Ð±Ð¾ÐºÐ¸Ñ… Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ‚Ñ–Ð² Ñ– Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ð¾ÑÑ‚Ñ– Ð² ÐºÐ¾Ð¶Ð½Ð¾Ð¼Ñƒ ÐºÑ€Ð¾Ñ†Ñ–!',
];
const agreementText = [
  'ÐŸÐµÑ€ÐµÐ´ Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÐ¾Ð¼ Ð½Ð°Ð²Ñ‡Ð°Ð½Ð½Ñ Ð¿Ñ€Ð¾ÑÐ¸Ð¼Ð¾ Ð²Ð°Ñ Ð¾Ð·Ð½Ð°Ð¹Ð¾Ð¼Ð¸Ñ‚Ð¸ÑÑ Ð· Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¾Ð¼, Ð² ÑÐºÐ¾Ð¼Ñƒ Ð·Ñ–Ð±Ñ€Ð°Ð½Ñ– Ð²ÑÑ– Ð²Ð°Ð¶Ð»Ð¸Ð²Ñ– Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ð¸: ÑÐº Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ÑŒ Ð·Ð°Ð½ÑÑ‚Ñ‚Ñ, ÑÐº Ð²Ð»Ð°ÑˆÑ‚Ð¾Ð²Ð°Ð½Ð° Ð¾Ð¿Ð»Ð°Ñ‚Ð°, Ð·Ð°Ñ…Ð¸ÑÑ‚ Ð°Ð²Ñ‚Ð¾Ñ€ÑÑŒÐºÐ¸Ñ… Ð¿Ñ€Ð°Ð² Ñ‚Ð° ÐºÐ¾Ð½Ñ„Ñ–Ð´ÐµÐ½Ñ†Ñ–Ð¹Ð½Ñ–ÑÑ‚ÑŒ.',
  'Ð¦Ðµ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ„Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŒ â€” Ñ†Ðµ Ð½Ð°Ñˆ Ñ–Ð· Ð²Ð°Ð¼Ð¸ Â«ÐºÐ¾Ð´ Ð´Ð¾Ð²Ñ–Ñ€Ð¸Â», ÑÐºÐ¸Ð¹ Ð´Ð¾Ð¿Ð¾Ð¼Ð°Ð³Ð°Ñ” ÑÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¸Ð¹, Ð¿Ñ€Ð¾Ð·Ð¾Ñ€Ð¸Ð¹ Ñ‚Ð° Ð±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¸Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ñ–Ñ€ Ð´Ð»Ñ Ñ€Ð¾Ð·Ð²Ð¸Ñ‚ÐºÑƒ.',
  'Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð¿Ñ€Ð¸Ð´Ñ–Ð»Ñ–Ñ‚ÑŒ ÐºÑ–Ð»ÑŒÐºÐ° Ñ…Ð²Ð¸Ð»Ð¸Ð½, Ñ‰Ð¾Ð± Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚Ð¸ Ð´Ð¾Ð³Ð¾Ð²Ñ–Ñ€. Ð¯ÐºÑ‰Ð¾ Ð²ÑÐµ Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð»Ð¾ Ñ– Ð²Ð°Ñ Ð²ÑÐµ Ð²Ð»Ð°ÑˆÑ‚Ð¾Ð²ÑƒÑ” Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ñ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ñ–Ñ‚ÑŒ ÑÐ²Ð¾ÑŽ Ð·Ð³Ð¾Ð´Ñƒ.',
  "Ð¯ÐºÑ‰Ð¾ Ð²Ð¸Ð½Ð¸ÐºÐ½ÑƒÑ‚ÑŒ Ð¿Ð¸Ñ‚Ð°Ð½Ð½Ñ - Ð½Ðµ ÑÐ¾Ñ€Ð¾Ð¼Ñ‚ÐµÑÑ Ð·Ð²ÐµÑ€Ñ‚Ð°Ñ‚Ð¸ÑÑ, Ð¼Ð¸ Ð·Ð°Ð²Ð¶Ð´Ð¸ Ð½Ð° Ð·Ð²'ÑÐ·ÐºÑƒ ðŸ’¬ Ñ– Ð½ÐµÑ…Ð°Ð¹ Ñ†ÐµÐ¹ ÐºÑƒÑ€Ñ ÑÑ‚Ð°Ð½Ðµ Ð´Ð»Ñ Ð²Ð°Ñ Ð½Ð°Ñ‚Ñ…Ð½ÐµÐ½Ð½ÑÐ¼, Ð¾Ð¿Ð¾Ñ€Ð¾ÑŽ Ñ‚Ð° ÐºÑ€Ð¾ÐºÐ¾Ð¼ Ð´Ð¾ ÑÐµÐ±Ðµ ÑÐ¿Ñ€Ð°Ð²Ð¶Ð½ÑŒÐ¾Ð³Ð¾.",
];
const literalText = [
  'Ð£ Ñ†ÑŒÐ¾Ð¼Ñƒ Ñ€Ð¾Ð·Ð´Ñ–Ð»Ñ– Ð·Ñ–Ð±Ñ€Ð°Ð½Ð¾ ÑÐ¿ÐµÑ†Ñ–Ð°Ð»ÑŒÐ½Ð¾ Ð¿Ñ–Ð´Ñ–Ð±Ñ€Ð°Ð½Ñƒ Ð»Ñ–Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñƒ, ÑÐºÐ° ÑÑ‚Ð°Ð½Ðµ Ð²Ð°ÑˆÐ¸Ð¼ Ð½Ð°Ð´Ñ–Ð¹Ð½Ð¸Ð¼ ÑÑƒÐ¿ÑƒÑ‚Ð½Ð¸ÐºÐ¾Ð¼ Ñƒ Ð½Ð°Ð²Ñ‡Ð°Ð½Ð½Ñ–.',
  'Ð”ÐµÑÐºÑ– ÐºÐ½Ð¸Ð¶ÐºÐ¸ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð¾Ð²Ð°Ð½Ñ– Ð´Ð¾ Ð¾Ð±Ð¾Ð²â€™ÑÐ·ÐºÐ¾Ð²Ð¾Ð³Ð¾ Ð¾Ð·Ð½Ð°Ð¹Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ, Ñ–Ð½ÑˆÑ– â€” Ð´Ð»Ñ Ð³Ð»Ð¸Ð±ÑˆÐ¾Ð³Ð¾ Ð·Ð°Ð½ÑƒÑ€ÐµÐ½Ð½Ñ Ð² Ñ‚ÐµÐ¼Ð¸, ÑÐºÑ– Ð¼Ð¸ Ñ€Ð¾Ð·Ð³Ð»ÑÐ´Ð°Ñ”Ð¼Ð¾ Ð½Ð° Ð·Ð°Ð½ÑÑ‚Ñ‚ÑÑ…. Ð£ÑÐµ, Ñ‰Ð¾ Ð²Ð¸ Ð·Ð½Ð°Ð¹Ð´ÐµÑ‚Ðµ Ñ‚ÑƒÑ‚, â€” Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐµÐ½Ð¾, Ð¾ÑÐ¼Ð¸ÑÐ»ÐµÐ½Ð¾ Ñ‚Ð° ÑÐ¿Ñ€Ð°Ð²Ð´Ñ– ÐºÐ¾Ñ€Ð¸ÑÐ½Ð¾ Ð´Ð»Ñ Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ð¾ÑÐ¾Ð±Ð¸ÑÑ‚Ð¾Ð³Ð¾ ÑˆÐ»ÑÑ…Ñƒ.',
  'Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð·Ð½Ð°Ñ…Ð¾Ð´ÑŒÑ‚Ðµ Ñ‡Ð°Ñ Ð´Ð»Ñ Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ. Ð’Ð¾Ð½Ð¾ Ð´Ð¾Ð¿Ð¾Ð²Ð½Ð¸Ñ‚ÑŒ Ñ– Ð¿Ñ–Ð´ÑÐ¸Ð»Ð¸Ñ‚ÑŒ Ñ‚Ðµ, Ñ‰Ð¾ Ð¼Ð¸ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð½Ð° ÐºÑƒÑ€ÑÑ–, Ð° Ñ‰Ðµ â€” Ð¿Ð¾Ð´Ð°Ñ€ÑƒÑ” Ð½Ð¾Ð²Ñ– Ñ€Ð¾Ð·Ð´ÑƒÐ¼Ð¸, Ð²Ñ–Ð´Ñ‡ÑƒÑ‚Ñ‚Ñ Ñ– Ð½Ð°Ñ‚Ñ…Ð½ÐµÐ½Ð½Ñ ðŸŒ±',
  'Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¼Ð¾Ð¶Ðµ Ð¾Ð½Ð¾Ð²Ð»ÑŽÐ²Ð°Ñ‚Ð¸ÑÑ â€” Ð·Ð°Ð³Ð»ÑÐ´Ð°Ð¹Ñ‚Ðµ Ñ‡Ð°Ñ Ð²Ñ–Ð´ Ñ‡Ð°ÑÑƒ!',
];

const ConsultingHeader = ({ token, id }: ConsultingHeaderProps) => {
  const pathName = usePathname();
  const { data: course } = useSuspenseQuery({
    queryKey: ['course', id],
    queryFn: () => fetchCourseDetailsForUser(token, id),
  });

  const getTitleAndText = () => {
    if (pathName?.includes('agreement')) {
      return { title: agreementTitle, text: agreementText };
    }
    if (pathName?.includes('literature')) {
      return { title: literalTitle, text: literalText };
    }
    return { title: defaultTitle, text: defaultText };
  };

  const { title, text } = getTitleAndText();

  return (
    <div className={styles.wrapper}>
      {id === pathName.split('/').pop() && (
        <AgreementInfo isSign={course?.purchaseInfo?.agreement} />
      )}
      <div className={styles.course_info_wrapper}>
        <AboutCourse course={course} />
        <Greeting title={title} text={text} />
      </div>
    </div>
  );
};

export default ConsultingHeader;
